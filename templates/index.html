{% extends "base.html" %}
{% block content %}
<div class="row">
  <!-- Sidebar: Active Channels List -->
  <div class="col-md-4">
    <h4>Channels</h4>
    <ul class="list-group" id="channel-list">
      {% if channels %}
        {% for channel in channels %}
          <li class="list-group-item">
            {% if channel.logo %}
              <img src="{{ channel.logo }}" alt="{{ channel.name }}" style="height: 30px; margin-right: 10px;"
                   onerror="this.onerror=null;this.src='https://via.placeholder.com/30?text=No+Logo';">
            {% endif %}
            <a href="{{ url_for('play_channel', channel_id=channel.id) }}"
               hx-get="{{ url_for('play_channel', channel_id=channel.id) }}"
               hx-target="#video-player" hx-swap="innerHTML">
              {{ channel.name }}
            </a>
          </li>
        {% endfor %}
      {% else %}
        <li class="list-group-item">No active channels available.</li>
      {% endif %}
    </ul>
  </div>
  
  <!-- Main Content: Video Player Placeholder -->
  <div class="col-md-8" id="player-container">
    <h3 class="visually-hidden">Player</h3>
    <div id="video-player" class="border border-secondary p-3" style="min-height: 300px;">
      <div class="d-flex justify-content-center align-items-center" style="height: 100%;">
        <i class="bi bi-camera-video" style="font-size: 5rem; color: #ccc;"></i>
      </div>
    </div>
  </div>
</div>
{% endblock %}
